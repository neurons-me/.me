import{_ as a,o as s,c as t,ae as e}from"./chunks/framework.BvHJbMD4.js";const c=JSON.parse('{"title":"Modeling Affinity","description":"","frontmatter":{},"headers":[],"relativePath":"old/model_Affinity.md","filePath":"old/model_Affinity.md"}'),n={name:"old/model_Affinity.md"};function l(h,i,p,r,o,k){return s(),t("div",null,[...i[0]||(i[0]=[e(`<h1 id="modeling-affinity" tabindex="-1">Modeling Affinity <a class="header-anchor" href="#modeling-affinity" aria-label="Permalink to &quot;Modeling Affinity&quot;">‚Äã</a></h1><p>Modeling affinity as an emergent property derived from the react table. Here‚Äôs how it makes sense mathematically and semantically:</p><h3 id="_1-conceptual-mapping" tabindex="-1">1. Conceptual Mapping <a class="header-anchor" href="#_1-conceptual-mapping" aria-label="Permalink to &quot;1. Conceptual Mapping&quot;">‚Äã</a></h3><p>‚Ä¢ Every reaction (react) entry represents an interaction between an actor and a context (context_id). ‚Ä¢ Affinity is essentially a summary metric of how much someone resonates with a context or another identity. ‚Ä¢ Thus, affinity = f(reacts) ‚Äî it‚Äôs derived, not stored directly.</p><h5 id="example-formula" tabindex="-1">Example Formula <a class="header-anchor" href="#example-formula" aria-label="Permalink to &quot;Example Formula&quot;">‚Äã</a></h5><p>Let‚Äôs say in your react table you have:</p><h6 id="context-id-target-emoji-timestamp" tabindex="-1">context_id | target | emoji | timestamp <a class="header-anchor" href="#context-id-target-emoji-timestamp" aria-label="Permalink to &quot;context_id | target | emoji | timestamp&quot;">‚Äã</a></h6><p>123 | abc | ‚ù§Ô∏è | ... 123 | abc | üëç | ... 123 | abc | üëé | ...</p><p>You can define an affinity score like:</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">       AVG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           CASE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> emoji</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                WHEN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;‚ù§Ô∏è&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> THEN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                WHEN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;üëç&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> THEN</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                WHEN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;üëé&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> THEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                ELSE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           END</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> affinity_score</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> react</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> target</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>This gives you a normalized affinity metric per target, context, or even per verb.</p><h4 id="why-this-is-better" tabindex="-1">Why This Is Better <a class="header-anchor" href="#why-this-is-better" aria-label="Permalink to &quot;Why This Is Better&quot;">‚Äã</a></h4><p>‚Ä¢ You don‚Äôt need a new table like affinity. ‚Ä¢ It‚Äôs composable: any app using this.me can compute affinity however it wants. ‚Ä¢ Different apps can define different scoring functions without touching the protocol.</p><h4 id="integration-with-this-me" tabindex="-1"><strong>Integration with this.me</strong> <a class="header-anchor" href="#integration-with-this-me" aria-label="Permalink to &quot;**Integration with this.me**&quot;">‚Äã</a></h4><p>Later, if you want this.me to expose affinity directly, we can: ‚Ä¢ Add a virtual view in PostgreSQL called me_affinity. ‚Ä¢ Or add a computed resolver in GraphQL that calculates affinity on-the-fly using react.</p>`,15)])])}const y=a(n,[["render",l]]);export{c as __pageData,y as default};
